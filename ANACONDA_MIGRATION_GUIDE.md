# ðŸ“¦ Anaconda æœåŠ¡å™¨è¿ç§»æŒ‡å—

## é—®é¢˜æè¿°

- **å½“å‰è·¯å¾„**: `/home/bygpu/anaconda3`
- **é—®é¢˜**: å ç”¨ç³»ç»Ÿç›˜ç©ºé—´è¿‡å¤§
- **ç›®æ ‡**: è¿ç§»åˆ° SSD ç£ç›˜,ä¸å½±å“åŠŸèƒ½

---

## ðŸš€ å¿«é€Ÿè¿ç§»æ­¥éª¤

### æ–¹æ³• 1: ä½¿ç”¨è‡ªåŠ¨è„šæœ¬(æŽ¨è)

#### 1. ä¸Šä¼ è„šæœ¬åˆ°æœåŠ¡å™¨

```bash
# åœ¨æœ¬åœ°æ‰§è¡Œ
scp migrate_anaconda_server.sh bygpu@æœåŠ¡å™¨IP:/home/bygpu/
```

#### 2. ç™»å½•æœåŠ¡å™¨å¹¶è¿è¡Œ

```bash
# SSH ç™»å½•æœåŠ¡å™¨
ssh bygpu@æœåŠ¡å™¨IP

# å»ºè®®åœ¨ screen ä¸­è¿è¡Œ,é˜²æ­¢æ–­çº¿
screen -S anaconda_migration

# è¿è¡Œè„šæœ¬
cd /home/bygpu
chmod +x migrate_anaconda_server.sh
./migrate_anaconda_server.sh
```

#### 3. æŒ‰æç¤ºæ“ä½œ

è„šæœ¬ä¼šå¼•å¯¼ä½ :
1. ç¡®è®¤å½“å‰ Anaconda è·¯å¾„
2. é€‰æ‹©ç›®æ ‡ SSD è·¯å¾„(ä¾‹å¦‚ `/mnt/ssd/anaconda3`)
3. ç¡®è®¤è¿ç§»è®¡åˆ’
4. è‡ªåŠ¨å¤åˆ¶å’Œé…ç½®
5. éªŒè¯å®‰è£…

#### 4. è¿ç§»å®ŒæˆåŽ

```bash
# é‡æ–°åŠ è½½é…ç½®
source ~/.bashrc

# éªŒè¯
which conda    # åº”è¯¥æ˜¾ç¤ºæ–°è·¯å¾„
conda --version
conda env list

# æµ‹è¯• Python
python --version
```

---

### æ–¹æ³• 2: æ‰‹åŠ¨è¿ç§»(å¦‚æžœè„šæœ¬å¤±è´¥)

#### æ­¥éª¤ 1: æ£€æŸ¥å½“å‰çŠ¶æ€

```bash
# æ£€æŸ¥ Anaconda å¤§å°
du -sh /home/bygpu/anaconda3

# æŸ¥çœ‹ç£ç›˜ç©ºé—´
df -h

# æ‰¾åˆ°ä½ çš„ SSD ç›˜
lsblk
```

#### æ­¥éª¤ 2: å‡†å¤‡ç›®æ ‡ä½ç½®

```bash
# å‡è®¾ä½ çš„ SSD æŒ‚è½½åœ¨ /mnt/ssd
# æ£€æŸ¥ç©ºé—´
df -h /mnt/ssd

# åˆ›å»ºç›®æ ‡ç›®å½•(å¦‚æžœéœ€è¦)
sudo mkdir -p /mnt/ssd
```

#### æ­¥éª¤ 3: å¤åˆ¶ Anaconda

```bash
# ä½¿ç”¨ rsync(ä¿ç•™æƒé™å’Œç¬¦å·é“¾æŽ¥)
rsync -av --info=progress2 /home/bygpu/anaconda3/ /mnt/ssd/anaconda3/

# æˆ–ä½¿ç”¨ cp(å¦‚æžœæ²¡æœ‰ rsync)
cp -rp /home/bygpu/anaconda3 /mnt/ssd/
```

**é¢„è®¡æ—¶é—´**: 10-30 åˆ†é’Ÿ(å–å†³äºŽå¤§å°)

#### æ­¥éª¤ 4: æ›´æ–°çŽ¯å¢ƒå˜é‡

```bash
# å¤‡ä»½é…ç½®æ–‡ä»¶
cp ~/.bashrc ~/.bashrc.backup

# åˆ é™¤æ—§çš„ conda åˆå§‹åŒ–
sed -i '/# >>> conda initialize >>>/,/# <<< conda initialize <<</d' ~/.bashrc

# è¿è¡Œæ–°çš„ conda init
/mnt/ssd/anaconda3/bin/conda init bash

# å¦‚æžœä½¿ç”¨ zsh
/mnt/ssd/anaconda3/bin/conda init zsh
```

#### æ­¥éª¤ 5: é‡æ–°åŠ è½½é…ç½®

```bash
source ~/.bashrc
```

#### æ­¥éª¤ 6: éªŒè¯

```bash
# æ£€æŸ¥è·¯å¾„
which conda
# åº”è¯¥æ˜¾ç¤º: /mnt/ssd/anaconda3/bin/conda

which python
# åº”è¯¥æ˜¾ç¤º: /mnt/ssd/anaconda3/bin/python

# æµ‹è¯•åŠŸèƒ½
conda --version
conda env list
python -c "import sys; print(sys.prefix)"
```

#### æ­¥éª¤ 7: åˆ é™¤æ—§ç›®å½•(æµ‹è¯•åŽ)

```bash
# å…ˆæµ‹è¯•å‡ å¤©,ç¡®è®¤ä¸€åˆ‡æ­£å¸¸
# ç„¶åŽåˆ é™¤æ—§ç›®å½•é‡Šæ”¾ç©ºé—´

# æŸ¥çœ‹è¦é‡Šæ”¾çš„ç©ºé—´
du -sh /home/bygpu/anaconda3

# åˆ é™¤
rm -rf /home/bygpu/anaconda3

# ç¡®è®¤ç©ºé—´é‡Šæ”¾
df -h /
```

---

## ðŸ” å¸¸è§é—®é¢˜

### Q1: è¿ç§»éœ€è¦å¤šé•¿æ—¶é—´?

**A**: å–å†³äºŽ Anaconda å¤§å°:
- 5GB: ~5-10 åˆ†é’Ÿ
- 10GB: ~10-20 åˆ†é’Ÿ
- 20GB+: ~20-40 åˆ†é’Ÿ

### Q2: ä¼šå½±å“æ­£åœ¨è¿è¡Œçš„ç¨‹åºå—?

**A**:
- âœ… è¿ç§»æœŸé—´è¯·åœæ­¢æ‰€æœ‰ä½¿ç”¨ conda/python çš„ç¨‹åº
- âœ… è¿ç§»å®ŒæˆåŽ,æ–°å¯åŠ¨çš„ç¨‹åºä¼šä½¿ç”¨æ–°è·¯å¾„
- âš ï¸ å·²ç»åœ¨è¿è¡Œçš„ç¨‹åºä¸å—å½±å“,ä½†é‡å¯åŽä¼šä½¿ç”¨æ–°è·¯å¾„

### Q3: å¦‚æžœè¿ç§»å¤±è´¥æ€Žä¹ˆåŠž?

**A**:
1. æ—§ç›®å½•ä¸ä¼šè¢«åˆ é™¤,æ‰€æœ‰æ•°æ®éƒ½è¿˜åœ¨
2. æ¢å¤é…ç½®æ–‡ä»¶: `cp ~/.bashrc.backup ~/.bashrc`
3. é‡æ–°åŠ è½½: `source ~/.bashrc`
4. åˆ é™¤æ–°ç›®å½•: `rm -rf /mnt/ssd/anaconda3`

### Q4: éœ€è¦ sudo æƒé™å—?

**A**:
- âŒ å¦‚æžœç›®æ ‡è·¯å¾„åœ¨ä½ çš„ home ç›®å½•ä¸‹,**ä¸éœ€è¦** sudo
- âœ… å¦‚æžœç›®æ ‡è·¯å¾„åœ¨ `/mnt`ã€`/opt` ç­‰ç³»ç»Ÿç›®å½•,**éœ€è¦** sudo

**å»ºè®®**: é€‰æ‹©ä¸éœ€è¦ sudo çš„è·¯å¾„,å¦‚:
- `/home/bygpu/ssd/anaconda3`
- `~/ssd/anaconda3`

### Q5: æˆ‘æœ‰å¤šä¸ª conda çŽ¯å¢ƒ,éƒ½ä¼šè¿ç§»å—?

**A**:
âœ… **æ˜¯çš„!** æ‰€æœ‰çŽ¯å¢ƒéƒ½ä¼šè¢«å®Œæ•´è¿ç§»:
- base çŽ¯å¢ƒ
- æ‰€æœ‰è‡ªå®šä¹‰çŽ¯å¢ƒ
- æ‰€æœ‰å·²å®‰è£…çš„åŒ…
- çŽ¯å¢ƒé…ç½®

### Q6: Docker å®¹å™¨ä¸­çš„ Python ä¼šå—å½±å“å—?

**A**:
âŒ **ä¸ä¼š!** Docker å®¹å™¨ä½¿ç”¨çš„æ˜¯å®¹å™¨å†…çš„ Python,ä¸Žå®¿ä¸»æœºçš„ Anaconda å®Œå…¨ç‹¬ç«‹ã€‚

---

## ðŸ“Š éªŒè¯æ¸…å•

è¿ç§»å®ŒæˆåŽ,æ£€æŸ¥ä»¥ä¸‹é¡¹ç›®:

- [ ] `which conda` æ˜¾ç¤ºæ–°è·¯å¾„
- [ ] `which python` æ˜¾ç¤ºæ–°è·¯å¾„
- [ ] `conda --version` æ­£å¸¸è¾“å‡º
- [ ] `conda env list` æ˜¾ç¤ºæ‰€æœ‰çŽ¯å¢ƒ
- [ ] `python -c "import numpy"` ç­‰å¸¸ç”¨åŒ…å¯å¯¼å…¥
- [ ] Jupyter Notebook å¯ä»¥å¯åŠ¨(å¦‚æžœä½¿ç”¨)
- [ ] é¡¹ç›®ä»£ç å¯ä»¥æ­£å¸¸è¿è¡Œ

---

## ðŸŽ¯ æŽ¨èç›®æ ‡è·¯å¾„

æ ¹æ®ä½ çš„æœåŠ¡å™¨é…ç½®,æŽ¨èä»¥ä¸‹è·¯å¾„:

### å¦‚æžœ SSD æŒ‚è½½åœ¨ `/mnt/ssd`:
```bash
ç›®æ ‡: /mnt/ssd/anaconda3
```

### å¦‚æžœ SSD æŒ‚è½½åœ¨ `/data`:
```bash
ç›®æ ‡: /data/anaconda3
```

### å¦‚æžœ SSD æ˜¯å¦ä¸€ä¸ªç”¨æˆ·ç›®å½•:
```bash
ç›®æ ‡: /home/bygpu/ssd/anaconda3
```

### å¦‚æžœä½¿ç”¨è½¯é“¾æŽ¥(é«˜çº§):
```bash
# è¿ç§»åˆ° SSD
rsync -av /home/bygpu/anaconda3/ /mnt/ssd/anaconda3/

# åˆ é™¤æ—§ç›®å½•
rm -rf /home/bygpu/anaconda3

# åˆ›å»ºè½¯é“¾æŽ¥(ä¿æŒè·¯å¾„ä¸å˜)
ln -s /mnt/ssd/anaconda3 /home/bygpu/anaconda3

# ä¼˜ç‚¹: ä¸éœ€è¦ä¿®æ”¹çŽ¯å¢ƒå˜é‡
# ç¼ºç‚¹: éœ€è¦ç¡®ä¿ SSD å§‹ç»ˆæŒ‚è½½åœ¨åŒä¸€ä½ç½®
```

---

## ðŸ“ è¿ç§»åŽä¼˜åŒ–

### æ¸…ç† Anaconda ç¼“å­˜

```bash
# æ¸…ç†åŒ…ç¼“å­˜
conda clean --all -y

# æ¸…ç† pip ç¼“å­˜
pip cache purge
```

### æŸ¥çœ‹ç©ºé—´é‡Šæ”¾

```bash
# ç³»ç»Ÿç›˜
df -h /

# SSD ç›˜
df -h /mnt/ssd
```

---

## ðŸ†˜ ç´§æ€¥å›žæ»š

å¦‚æžœè¿ç§»åŽå‡ºçŽ°é—®é¢˜,å¿«é€Ÿå›žæ»š:

```bash
# 1. æ¢å¤é…ç½®æ–‡ä»¶
cp ~/.bashrc.backup.* ~/.bashrc

# 2. é‡æ–°åŠ è½½
source ~/.bashrc

# 3. éªŒè¯
which conda  # åº”è¯¥å›žåˆ°æ—§è·¯å¾„

# 4. åˆ é™¤æ–°ç›®å½•(å¯é€‰)
rm -rf /mnt/ssd/anaconda3
```

---

## ðŸ’¡ æœ€ä½³å®žè·µ

1. âœ… **åœ¨ screen æˆ– tmux ä¸­è¿è¡Œ**,é˜²æ­¢ SSH æ–­çº¿
2. âœ… **å…ˆå¤‡ä»½é‡è¦æ•°æ®**
3. âœ… **é€‰æ‹©åˆé€‚çš„æ—¶é—´**,é¿å…å½±å“æ­£åœ¨è¿è¡Œçš„ä»»åŠ¡
4. âœ… **æµ‹è¯• 1-2 å¤©**åŽå†åˆ é™¤æ—§ç›®å½•
5. âœ… **è®°å½•æ–°è·¯å¾„**,æ–¹ä¾¿åŽç»­ç»´æŠ¤

---

## ðŸ“ž æŠ€æœ¯æ”¯æŒ

å¦‚æžœé‡åˆ°é—®é¢˜:

1. æŸ¥çœ‹æ—¥å¿—: `cat ~/.bashrc` æ£€æŸ¥ PATH
2. æ‰‹åŠ¨æµ‹è¯•: `/æ–°è·¯å¾„/bin/conda --version`
3. æ£€æŸ¥æƒé™: `ls -la /æ–°è·¯å¾„`
4. æ¢å¤å¤‡ä»½: `cp ~/.bashrc.backup ~/.bashrc`

---

**å¼€å§‹è¿ç§»å‰,å»ºè®®å…ˆåœ¨æµ‹è¯•çŽ¯å¢ƒéªŒè¯!** ðŸš€
